(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["catalog"],{"0021":function(t,e,s){t.exports=s.p+"img/steering_column.86684872.svg"},"17b3":function(t,e,s){},"1f69":function(t,e,s){},"247d":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-card",[t.questions.length>1?s("v-card-actions",{staticClass:"primary"},[s("v-row",{attrs:{align:"baseline","no-gutters":""}},[t._l(t.questions,(function(e,i){return[s("v-btn",{key:e.text,attrs:{disabled:!e.selected,small:"",text:"",dark:""},on:{click:function(e){return t.goto(i)}}},[t._v(t._s(e.text))]),i!=t.questions.length-1?s("div",{key:e.text+"-slash",staticClass:"white--text mx-3"},[t._v("/")]):t._e()]}))],2)],1):t._e(),s("v-card-actions",{staticClass:"primary"},[0!==t.questions.length?s("v-select",{attrs:{items:t.question.options,label:"Steering Column "+t.question.text,"prepend-icon":"mdi-home-search",filled:"",dark:"","hide-details":"",outlined:""},on:{change:function(e){return t.changeSelection()}},model:{value:t.question.selected,callback:function(e){t.$set(t.question,"selected",e)},expression:"question.selected"}}):t._e()],1),s("v-card-text",{staticClass:"text-center"},[t._v(" Search for the steering column you need! Use the prompt above to narrow down your search. "),s("br"),t._v(" Alternatively, "),s("router-link",{attrs:{to:"/quote"}},[t._v("request a quote")]),t._v(". ")],1)],1),s("v-card",{staticClass:"mt-5"},[s("v-list",{attrs:{"two-line":""}},t._l(t.searchResults,(function(e){return s("v-list-item",{key:e.CatalogId,attrs:{to:"/part/"+e.CatalogId}},[s("v-list-item-avatar",[s("v-img",{attrs:{src:e.ImagePath,"lazy-src":t.fallbackImage}})],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(e.Manufacturer)+" "+t._s(e.Model))]),s("v-list-item-subtitle",[t._v(t._s(e.Year)+" "+t._s(e.Shift)+" "+t._s(e.Transmission)+" "+t._s(e.Tilt))])],1)],1)})),1)],1),s("v-row",{staticClass:"text-center py-5",attrs:{"no-gutters":""}},[s("v-btn",{attrs:{to:"?page="+(t.page-1),disabled:t.page<=1,color:"white"},on:{click:function(e){t.page--,t.fetchList()}}},[t._v("prev")]),s("v-flex",[s("v-pagination",{attrs:{"total-visible":"",length:t.maxPage},on:{input:function(e){return t.fetchList()}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),s("v-btn",{attrs:{to:"?page="+(t.page+1),disabled:t.page>=t.maxPage,color:"white"},on:{click:function(e){t.page++,t.fetchList()}}},[t._v("next")])],1)],1)},n=[],a=(s("e260"),s("fb6a"),s("ddb0"),s("d722")),o={name:"catalog",metaInfo:{title:"Catalog"},data(){return{fallbackImage:s("0021"),questions:[],searchResults:[],page:1,maxPage:1}},computed:{question(){return this.questions.length?this.questions[this.questions.length-1]:null}},methods:{goto(t){this.questions[t].selected=null,this.questions=this.questions.slice(0,t+1),this.fetchList()},fetchList(){let t={};for(const e of this.questions)t[e.text]=e.selected||null;console.log(t),a["a"].postCatalog(JSON.stringify({query:t,page:this.page})).then(t=>{200===t.status&&t.json().then(t=>{console.log(t),this.searchResults=t.result,this.maxPage=t.maxPage,t.nextQuestion&&this.questions.push({text:t.nextQuestion,options:t.options})})})},changeSelection(){this.page=1,this.fetchList()}},created(){this.page=this.$route.query.page||1,this.fetchList()}},l=o,r=(s("9da8"),s("2877")),c=s("6544"),h=s.n(c),u=s("8336"),g=s("b0af"),d=s("99d9"),v=s("a523"),p=s("0e8f"),m=s("adda"),f=s("8860"),b=s("da13"),x=s("8270"),_=s("5d23"),I=(s("25f0"),s("5530")),q=(s("17b3"),s("9d26")),y=s("dc22"),k=s("a9ad"),C=s("de2c"),V=s("7560"),w=s("58df"),$=Object(w["a"])(k["a"],Object(C["a"])({onVisible:["init"]}),V["a"]).extend({name:"v-pagination",directives:{Resize:y["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return Object(I["a"])({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items(){const t=parseInt(this.totalVisible,10),e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const s=e%2===0?1:0,i=Math.floor(e/2),n=this.length-i+1+s;if(this.value>i&&this.value<n){const t=this.value-i+2,e=this.value+i-2-s;return[1,"...",...this.range(t,e),"...",this.length]}if(this.value===i){const t=this.value+i-1-s;return[...this.range(1,t),"...",this.length]}if(this.value===n){const t=this.value-i+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,i),"...",...this.range(n,this.length)]}},watch:{value(){this.init()}},mounted(){this.init()},methods:{init(){this.selected=null,this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const s=[];t=t>0?t:1;for(let i=t;i<=e;i++)s.push(i);return s},genIcon(t,e,s,i){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":s},attrs:{type:"button"},on:s?{}:{click:i}},[t(q["a"],[e])])])},genItem(t,e){const s=e===this.value&&(this.color||"primary");return t("button",this.setBackgroundColor(s,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button"},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map((e,s)=>t("li",{key:s},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)]))}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next)];return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}}),L=s("0fd9"),S=s("b974"),R=Object(r["a"])(l,i,n,!1,null,null,null);e["default"]=R.exports;h()(R,{VBtn:u["a"],VCard:g["a"],VCardActions:d["a"],VCardText:d["c"],VContainer:v["a"],VFlex:p["a"],VImg:m["a"],VList:f["a"],VListItem:b["a"],VListItemAvatar:x["a"],VListItemContent:_["a"],VListItemSubtitle:_["b"],VListItemTitle:_["c"],VPagination:$,VRow:L["a"],VSelect:S["a"]})},"9da8":function(t,e,s){"use strict";var i=s("1f69"),n=s.n(i);n.a}}]);
//# sourceMappingURL=catalog.ca6317b5.js.map